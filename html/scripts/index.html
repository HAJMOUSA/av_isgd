<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="viewport" content = "height = device-height, width = device-width, user-scalable = no" />
        <title>ISGD AV Control</title>
        <script type="text/javascript" src="/webiopi.js"></script>
        <script type="text/javascript" src="/scripts/ISGD_AV.js"></script>
        <!--link rel="stylesheet" type="text/css" href="/styles/ISGD_AV.css"-->
<!--        <link rel="shortcut icon" sizes="196x196" href="/img/ISGD.png" /> -->
</head>
<body
</br>
</br>
<script>
function ATEN_Comamnd(browser) {
	if (browser == 0){
		document.getElementById("Serial_Command").value="sw o01 video off";
	}
	else{
		document.getElementById("Serial_Command").value="sw i0"+browser +" o01";
	}
	//Send Data to serial port
  serialusb0.write(document.getElementById("Serial_Command").value);
  //serialusb0.read(timeCallback);
	//SendCommand(document.getElementById("Serial_Command").value);
}
function ChangeAudioVolume(who)
{
  if(who.id == "MHSlider")
        document.getElementById("MH_VOLUME").value = who.value;
  else if(who.id == "SISSlider")
          document.getElementById("SIS_VOLUME").value = who.value;
  else if(who.id == "FYSlider")
          document.getElementById("FY_VOLUME").value = who.value;
  else if(who.id == "GYSlider")
          document.getElementById("GY_VOLUME").value = who.value;

}

function SendVolume(who)
{
  if(who.id == "MH_Button")
    {
      if(document.getElementById("MH_MUTE").checked == false){
        serialusb0.write("MH_VOLUME: "+document.getElementById("MH_VOLUME").value);
      }
    }
    else if(who.id == "SIS_Button")
    {
        if(document.getElementById("SIS_MUTE").checked == false){
          serialusb0.write("SIS_VOLUME: "+document.getElementById("SIS_VOLUME").value);
        }
    }
    else if(who.id == "FY_Button")
    {
        if(document.getElementById("FY_MUTE").checked == false){
          serialusb0.write("FOYER_VOLUME: "+document.getElementById("FY_VOLUME").value);
        }
    }
    else if(who.id == "GY_Button")
    {
        if(document.getElementById("GY_MUTE").checked == false){
          serialusb0.write("GYM_BUTTON: "+document.getElementById("GY_VOLUME").value);
        }
    }


}

function DisableButton(who)
{
  if(who.checked == true)
    {
      if(who.id == "MH_MUTE")
        document.getElementById("MH_Button").disabled = true;
      else if (who.id =="SIS_MUTE")
        document.getElementById("SIS_Button").disabled = true;
      else if (who.id =="FY_MUTE")
        document.getElementById("FY_Button").disabled = true;
      else if (who.id =="GY_MUTE")
        document.getElementById("GY_Button").disabled = true;
    }
    else
    {
      if(who.id == "MH_MUTE")
        document.getElementById("MH_Button").disabled = false;
      else if (who.id =="SIS_MUTE")
        document.getElementById("SIS_Button").disabled = false;
      else if (who.id =="FY_MUTE")
        document.getElementById("FY_Button").disabled = false;
      else if (who.id =="GY_MUTE")
        document.getElementById("GY_Button").disabled = false;
    }

}
</script>

<h1 align="center" > Audio Control </h1>

<div class="relative">
  <h3>Main Hall Audio Control</h3>
  <p>Mute :

  <input type="checkbox" name="MH_MUTE" id="MH_MUTE" onchange="DisableButton(this)"/>
  </p>
  <input type="text" id="MH_VOLUME" size="20">
  <input type="range" id= "MHSlider" min="-10" max="45" value="-10" step="1" oninput="ChangeAudioVolume(this)" width="304" height="228"/>
  <button  id="MH_Button" onclick="SendVolume(this)">Update Main Hall Volume</button>
</div>

<div class="relative">
  <h3>Sister's Audio Control</h3>
  <p>Mute :
  <input type="checkbox" name="SIS_MUTE" id="SIS_MUTE"/>
  </p>
  <input type="text" id="SIS_VOLUME" size="20">
  <input type="range" id= "SISSlider" min="-10" max="45" value="-10" step="1" oninput="ChangeAudioVolume(this)" width="304" height="228"/>
  <button  id="SIS_Button" onclick="SendVolume(this)">Update Sister's Area Volume</button>
</div>
<div class="relative">
  <h3> Foyer Hall Audio Control</h3>
  <p>Mute :
  <input type="checkbox" name="FY_MUTE" id="FY_MUTE"/>
</p>
  <input type="text" id="FY_VOLUME" size="20">
  <input type="range" id= "FYSlider" min="-10" max="45" value="-10" step="1" oninput="ChangeAudioVolume(this)" width="304" height="228"/>
  <button  id="FY_Button" onclick="SendVolume(this)">Update Foyer Volume</button>
</div>
<div class="relative">
  <h3>GYMNASIUM Audio Control</h3>
  <p>Mute :
  <input type="checkbox" name="GY_MUTE" id="GY_MUTE"/>
  </p>
  <input type="text" id="GY_VOLUME" size="20">
  <input type="range" id= "GYSlider" min="-10" max="45" value="-10" step="1" oninput="ChangeAudioVolume(this)" width="304" height="228"/>
  <button  id="GY_Button" onclick="SendVolume(this)">Update GYMNASIUM Volume</button>
</div>


<div id="content" align="center"></div>
<div id="canvas">
<h1 align="center"> Video Control </h1>

<section style="margin: 10px;">
<fieldset style="min-height:150px;">
<label> <br/> </label>
<label> <br/> </label>
<fieldset   class="fieldset-auto-width">
	<legend>Prayer Hall Projector's Video input</legend>
		<select name="Zone1" onchange="ATEN_Comamnd(this.value)" size="5">
		  <option value="1" selected="selected"> Main_Hall Camera</option>
		  <option value="2">Main_Hall HDMI</option>
		  <option value="3">Office_HDMI</option>
		  <option value="4">Gymnasium HDMI</option>
		  <option Value="0"> Off</option>
		</select>
</fieldset>

<label> <br/> </label>
<fieldset   class="fieldset-auto-width">
	<legend>Sister's Are Video input</legend>
		<select name="Zone2"  onchange="ATEN_Comamnd(this.value)" size="5">
      <option value="1" selected="selected"> Main_Hall Camera</option>
		  <option value="2">Main_Hall HDMI</option>
		  <option value="3">Office_HDMI</option>
		  <option value="4">Gymnasium HDMI</option>
		  <option Value="0"> Off</option>
		</select>
</fieldset>

<fieldset   class="fieldset-auto-width">
	<legend>Foyer Video input</legend>
		<select name="Zone3" onchange="ATEN_Comamnd(this.value)" size="5">
      <option value="1" selected="selected"> Main_Hall Camera</option>
		  <option value="2">Main_Hall HDMI</option>
		  <option value="3">Office_HDMI</option>
		  <option value="4">Gymnasium HDMI</option>
		  <option Value="0"> Off</option>
		</select>
</fieldset>

<fieldset   class="fieldset-auto-width">
	<legend>Gymansium Video input</legend>
		<select name="Zone3" onchange="ATEN_Comamnd(this.value)"size="5">
      <option value="1" selected="selected"> Main_Hall Camera</option>
		  <option value="2">Main_Hall HDMI</option>
		  <option value="3">Office_HDMI</option>
		  <option value="4">Gymnasium HDMI</option>
		  <option Value="0"> Off</option>
		</select>
</fieldset>
	Command to Send to ATEN <input type="text" id="Serial_Command" size="20">
</body>
</html>
